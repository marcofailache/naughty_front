{"ast":null,"code":"import _objectSpread from\"/Users/ivopascoal/Desktop/Naughty/naughty_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _taggedTemplateLiteral from\"/Users/ivopascoal/Desktop/Naughty/naughty_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{lazy,Suspense,useContext}from'react';import styled from'styled-components';import{Text}from'@pancakeswap-libs/uikit';import PastLotteryDataContext from'contexts/PastLotteryDataContext';import Loading from'../Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Line=/*#__PURE__*/lazy(function(){return import('./LineChartWrapper');});var InnerWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"])));var HistoryChart=function HistoryChart(){var _useContext=useContext(PastLotteryDataContext),historyData=_useContext.historyData,historyError=_useContext.historyError;var getDataArray=function getDataArray(kind){return historyData.map(function(dataPoint){return dataPoint[kind];}).reverse();};var lineStyles=function lineStyles(_ref){var color=_ref.color;return{borderColor:color,fill:false,borderWidth:2,pointRadius:0,pointHitRadius:10};};var chartData={labels:getDataArray('lotteryNumber'),datasets:[_objectSpread({label:'Pool Size',data:getDataArray('poolSize'),yAxisID:'y-axis-pool'},lineStyles({color:'#8F80BA'})),_objectSpread({label:'Burned',data:getDataArray('burned'),yAxisID:'y-axis-burned'},lineStyles({color:'#1FC7D4'}))]};var axesStyles=function axesStyles(_ref2){var color=_ref2.color,lineHeight=_ref2.lineHeight;return{borderCapStyle:'round',gridLines:{display:false},ticks:{fontFamily:'Kanit, sans-serif',fontColor:color,fontSize:14,lineHeight:lineHeight,maxRotation:0,beginAtZero:true,autoSkipPadding:15,userCallback:function userCallback(value){return value.toLocaleString();}}};};var options={legend:{display:false},scales:{yAxes:[_objectSpread({type:'linear',display:true,position:'left',id:'y-axis-pool'},axesStyles({color:'#8f80ba',lineHeight:1.6})),_objectSpread({type:'linear',display:true,position:'right',id:'y-axis-burned'},axesStyles({color:'#1FC7D4',lineHeight:1.5}))],xAxes:[_objectSpread({},axesStyles({color:'#452A7A',lineHeight:1}))]}};return/*#__PURE__*/_jsxs(_Fragment,{children:[historyError&&/*#__PURE__*/_jsx(InnerWrapper,{children:/*#__PURE__*/_jsx(Text,{children:\"Error fetching data\"})}),!historyError&&historyData.length>1?/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),children:/*#__PURE__*/_jsx(Line,{data:chartData,options:options,type:\"line\"})}):/*#__PURE__*/_jsx(InnerWrapper,{children:/*#__PURE__*/_jsx(Loading,{})})]});};export default HistoryChart;","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/Naughty/naughty_front/src/views/Lottery/components/PastDrawsHistory/HistoryChart.tsx"],"names":["React","lazy","Suspense","useContext","styled","Text","PastLotteryDataContext","Loading","Line","InnerWrapper","div","HistoryChart","historyData","historyError","getDataArray","kind","map","dataPoint","reverse","lineStyles","color","borderColor","fill","borderWidth","pointRadius","pointHitRadius","chartData","labels","datasets","label","data","yAxisID","axesStyles","lineHeight","borderCapStyle","gridLines","display","ticks","fontFamily","fontColor","fontSize","maxRotation","beginAtZero","autoSkipPadding","userCallback","value","toLocaleString","options","legend","scales","yAxes","type","position","id","xAxes","length"],"mappings":"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","sourcesContent":["import React, { lazy, Suspense, useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Text } from '@pancakeswap-libs/uikit'\r\nimport PastLotteryDataContext from 'contexts/PastLotteryDataContext'\r\nimport Loading from '../Loading'\r\n\r\nconst Line = lazy(() => import('./LineChartWrapper'))\r\n\r\nconst InnerWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst HistoryChart: React.FC = () => {\r\n  const { historyData, historyError } = useContext(PastLotteryDataContext)\r\n  const getDataArray = (kind) => {\r\n    return historyData\r\n      .map((dataPoint) => {\r\n        return dataPoint[kind]\r\n      })\r\n      .reverse()\r\n  }\r\n\r\n  const lineStyles = ({ color }) => {\r\n    return {\r\n      borderColor: color,\r\n      fill: false,\r\n      borderWidth: 2,\r\n      pointRadius: 0,\r\n      pointHitRadius: 10,\r\n    }\r\n  }\r\n\r\n  const chartData = {\r\n    labels: getDataArray('lotteryNumber'),\r\n    datasets: [\r\n      {\r\n        label: 'Pool Size',\r\n        data: getDataArray('poolSize'),\r\n        yAxisID: 'y-axis-pool',\r\n        ...lineStyles({ color: '#8F80BA' }),\r\n      },\r\n      {\r\n        label: 'Burned',\r\n        data: getDataArray('burned'),\r\n        yAxisID: 'y-axis-burned',\r\n        ...lineStyles({ color: '#1FC7D4' }),\r\n      },\r\n    ],\r\n  }\r\n\r\n  const axesStyles = ({ color, lineHeight }) => {\r\n    return {\r\n      borderCapStyle: 'round',\r\n      gridLines: { display: false },\r\n      ticks: {\r\n        fontFamily: 'Kanit, sans-serif',\r\n        fontColor: color,\r\n        fontSize: 14,\r\n        lineHeight,\r\n        maxRotation: 0,\r\n        beginAtZero: true,\r\n        autoSkipPadding: 15,\r\n        userCallback: (value) => {\r\n          return value.toLocaleString()\r\n        },\r\n      },\r\n    }\r\n  }\r\n\r\n  const options = {\r\n    legend: { display: false },\r\n    scales: {\r\n      yAxes: [\r\n        {\r\n          type: 'linear',\r\n          display: true,\r\n          position: 'left',\r\n          id: 'y-axis-pool',\r\n          ...axesStyles({ color: '#8f80ba', lineHeight: 1.6 }),\r\n        },\r\n        {\r\n          type: 'linear',\r\n          display: true,\r\n          position: 'right',\r\n          id: 'y-axis-burned',\r\n          ...axesStyles({ color: '#1FC7D4', lineHeight: 1.5 }),\r\n        },\r\n      ],\r\n      xAxes: [\r\n        {\r\n          ...axesStyles({ color: '#452A7A', lineHeight: 1 }),\r\n        },\r\n      ],\r\n    },\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {historyError && (\r\n        <InnerWrapper>\r\n          <Text>Error fetching data</Text>\r\n        </InnerWrapper>\r\n      )}\r\n      {!historyError && historyData.length > 1 ? (\r\n        <Suspense fallback={<div>Loading...</div>}>\r\n          <Line data={chartData} options={options} type=\"line\" />\r\n        </Suspense>\r\n      ) : (\r\n        <InnerWrapper>\r\n          <Loading />\r\n        </InnerWrapper>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HistoryChart\r\n"]},"metadata":{},"sourceType":"module"}